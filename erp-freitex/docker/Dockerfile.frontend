FROM node:18-alpine

WORKDIR /app

# Copiar arquivos de dependências
COPY package*.json ./

# Instalar dependências
RUN npm install --omit=dev

# Copiar código fonte
COPY . .

# Expor porta
EXPOSE 7000

# Variáveis de ambiente
ENV PORT=7000
ENV REACT_APP_API_URL=http://localhost:7001

# Comando para iniciar
CMD ["npm", "start"]
