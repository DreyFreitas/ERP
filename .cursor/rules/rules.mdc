---
description:
globs:
alwaysApply: true
---

---
description:
globs:
alwaysApply: true
---

# ğŸš€ Regras de Desenvolvimento e Contexto - ERP Freitex Softwares

## ğŸ“‹ VisÃ£o Geral do Projeto

**Nome**: ERP Freitex Softwares  
**Tipo**: Sistema ERP web-based multi-tenant  
**Foco**: Pequenas e mÃ©dias empresas (inicialmente lojas de roupas)  
**Escalabilidade**: Sistema escalÃ¡vel para outros segmentos  
**Acesso**: Web-based via Docker  
**Portas**: A partir da 7000  
**Status**: Em desenvolvimento ativo

## ğŸ¯ Objetivo Principal

Criar um sistema ERP completo para a loja de roupas do pai do desenvolvedor, mas com arquitetura escalÃ¡vel para atender outras empresas atravÃ©s de modelo SaaS (Software as a Service).

---

## ğŸ—ï¸ Stack TecnolÃ³gica DEFINIDA E OBRIGATÃ“RIA

### Frontend
- **Framework**: React.js + TypeScript âœ…
- **UI Library**: Material-UI (MUI) âœ…
- **Design System**: Cores da marca (#001f40, #00c7cd) + paleta complementar âœ…
- **Estado**: Context API ou Redux Toolkit âœ…
- **Roteamento**: React Router com estrutura de layout Ãºnico âœ…
- **FormulÃ¡rios**: React Hook Form + Yup âœ…

### Backend
- **Runtime**: Node.js + TypeScript âœ…
- **Framework**: Express.js âœ…
- **ORM**: Prisma âœ…
- **AutenticaÃ§Ã£o**: JWT + Refresh Tokens âœ…
- **ValidaÃ§Ã£o**: Joi ou Zod âœ…

### Banco de Dados
- **SGBD**: PostgreSQL âœ…
- **Multi-tenancy**: Schema isolation (tenant_{id}) âœ…
- **Migrations**: Prisma Migrate âœ…
- **Seeding**: Prisma Seed âœ…

### Infraestrutura
- **ContainerizaÃ§Ã£o**: Docker + Docker Compose âœ…
- **Cache**: Redis (opcional) âœ…
- **Monitoramento**: Winston (logs) âœ…
- **Deploy**: DigitalOcean/AWS âœ…

---

## ğŸ”§ ConfiguraÃ§Ã£o de Portas OBRIGATÃ“RIA

- **Frontend**: 7000
- **Backend API**: 7001
- **PostgreSQL**: 7002
- **Redis**: 7003 (opcional)
- **Adminer**: 7004 (gerenciamento do banco)

---

## ğŸš¨ REGRAS DE DESENVOLVIMENTO OBRIGATÃ“RIAS

### 1. **Estrutura de Layout Ãšnico - SEMPRE USAR ESTE PADRÃƒO**

Para evitar recarregamento de pÃ¡gina e garantir navegaÃ§Ã£o suave, **SEMPRE** usar estrutura de layout Ãºnico:

#### âœ… **CORRETO - Layout Ãšnico:**
```jsx
// Componente de rotas com layout Ãºnico
const CompanyRoutes: React.FC = () => {
  return (
    <CompanyLayout>
      <Routes>
        <Route path="/company/dashboard" element={<CompanyDashboard />} />
        <Route path="/company/products" element={<ProductsPage />} />
        <Route path="/company/stock" element={<StockPage />} />
        // ... mais rotas
      </Routes>
    </CompanyLayout>
  );
};

// Rota principal com wildcard
<Route path="/company/*" element={<CompanyRoutes />} />
```

#### âŒ **INCORRETO - Layout por rota (causa recarregamento):**
```jsx
// NUNCA fazer assim - cada rota com seu prÃ³prio layout
<Route path="/company/dashboard" element={<CompanyLayout><CompanyDashboard /></CompanyLayout>} />
<Route path="/company/products" element={<CompanyLayout><ProductsPage /></CompanyLayout>} />
<Route path="/company/stock" element={<CompanyLayout><StockPage /></CompanyLayout>} />
```

### 2. **NavegaÃ§Ã£o Suave - SEMPRE usar React Router**

- **âœ… CORRETO**: `navigate('/company/products')`
- **âŒ INCORRETO**: `window.location.href = '/company/products'`

### 3. **ConsistÃªncia Visual - SEMPRE seguir o Design System**

- **Cores PrimÃ¡rias**: #001f40 (azul escuro), #00c7cd (azul ciano)
- **Paleta Completa**: Usar variaÃ§Ãµes definidas no DESIGN_SYSTEM.md
- **Componentes**: Sempre usar Material-UI para consistÃªncia
- **EspaÃ§amento**: Seguir sistema de espaÃ§amento definido

### 4. **Sistema de Grid - SEMPRE usar CSS Grid em vez de Material-UI Grid**

#### âœ… **CORRETO - CSS Grid com Material-UI Box:**
```jsx
// Usar Box com display: 'grid' para layouts responsivos
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { xs: '1fr', md: 'repeat(2, 1fr)' }, 
  gap: 2 
}}>
  <Card>ConteÃºdo 1</Card>
  <Card>ConteÃºdo 2</Card>
</Box>

// Para layouts complexos
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: '1fr 400px',  // Layout principal + sidebar
  gap: 3 
}}>
  <MainContent />
  <Sidebar />
</Box>

// Para cards responsivos
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))', 
  gap: 2 
}}>
  {items.map(item => <ProductCard key={item.id} item={item} />)}
</Box>
```

#### âŒ **INCORRETO - Material-UI Grid:**
```jsx
// NUNCA usar Material-UI Grid
import { Grid } from '@mui/material';

<Grid container spacing={2}>
  <Grid item xs={12} md={6}>
    <Card>ConteÃºdo</Card>
  </Grid>
</Grid>
```

#### **PadrÃµes de Grid Recomendados:**
- **Dashboard**: `gridTemplateColumns: { xs: '1fr', sm: 'repeat(2, 1fr)', md: 'repeat(4, 1fr)' }`
- **FormulÃ¡rios**: `gridTemplateColumns: { xs: '1fr', md: 'repeat(2, 1fr)' }`
- **Cards**: `gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))'`
- **Layout Principal**: `gridTemplateColumns: '1fr 400px'` (conteÃºdo + sidebar)
- **Tabelas**: `gridTemplateColumns: '1fr auto auto auto'` (conteÃºdo + aÃ§Ãµes)

### 5. **Paleta de Cores - SEMPRE usar as cores definidas no tema**

#### **Cores ObrigatÃ³rias:**
```typescript
// Cores primÃ¡rias (OBRIGATÃ“RIAS)
primary: {
  main: '#001f40',      // Azul escuro principal
  light: '#004b98',     // Azul claro
  dark: '#001a35',      // Azul mais escuro
  contrastText: '#ffffff'
},
secondary: {
  main: '#00c7cd',      // Azul ciano secundÃ¡rio
  light: '#00fbff',     // Ciano claro
  dark: '#009fa5',      // Ciano escuro
  contrastText: '#ffffff'
}

// Cores de status (OBRIGATÃ“RIAS)
success: { main: '#22c55e' }    // Verde
warning: { main: '#f59e0b' }    // Laranja
error: { main: '#ef4444' }      // Vermelho
info: { main: '#3b82f6' }       // Azul info
```

#### **Uso Correto:**
```jsx
// âœ… CORRETO - Usar cores do tema
<Button variant="contained" color="primary">BotÃ£o</Button>
<Chip color="success" label="Sucesso" />
<Alert severity="warning">Aviso</Alert>

// âœ… CORRETO - Usar cores customizadas quando necessÃ¡rio
<Box sx={{ backgroundColor: 'primary.main' }}>
  <Typography sx={{ color: 'primary.contrastText' }}>
    Texto
  </Typography>
</Box>
```

#### **âŒ INCORRETO:**
```jsx
// NUNCA usar cores hardcoded
<Button sx={{ backgroundColor: '#ff0000' }}>BotÃ£o</Button>
<Box sx={{ color: 'red' }}>Texto</Box>
```

### 6. **Componentes Material-UI - SEMPRE usar componentes nativos**

#### **âœ… CORRETO - Componentes nativos:**
```jsx
import {
  Box,
  Card,
  CardContent,
  Typography,
  Button,
  TextField,
  Dialog,
  DialogTitle,
  DialogContent,
  DialogActions,
  IconButton,
  Chip,
  Alert,
  Snackbar,
  CircularProgress,
  FormControl,
  InputLabel,
  Select,
  MenuItem,
  Checkbox,
  FormControlLabel
} from '@mui/material';

// Usar componentes conforme documentaÃ§Ã£o oficial
<Card>
  <CardContent>
    <Typography variant="h6">TÃ­tulo</Typography>
    <Button variant="contained" color="primary">
      AÃ§Ã£o
    </Button>
  </CardContent>
</Card>
```

#### **âŒ INCORRETO - Componentes customizados desnecessÃ¡rios:**
```jsx
// NUNCA criar componentes que jÃ¡ existem no Material-UI
const CustomButton = styled('button')({
  // ... estilos customizados
});

// Usar Button nativo do Material-UI
<Button variant="contained" color="primary">
  AÃ§Ã£o
</Button>
```

### 7. **Responsividade - SEMPRE implementar breakpoints corretos**

#### **Breakpoints ObrigatÃ³rios:**
```typescript
// Sempre usar estes breakpoints
xs: 0,      // Extra small: 0px
sm: 600,    // Small: 600px
md: 900,    // Medium: 900px
lg: 1200,   // Large: 1200px
xl: 1536    // Extra large: 1536px
```

#### **ImplementaÃ§Ã£o Correta:**
```jsx
// âœ… CORRETO - Breakpoints responsivos
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { 
    xs: '1fr',                    // Mobile: 1 coluna
    sm: 'repeat(2, 1fr)',        // Tablet: 2 colunas
    md: 'repeat(3, 1fr)',        // Desktop: 3 colunas
    lg: 'repeat(4, 1fr)'         // Large: 4 colunas
  }, 
  gap: { xs: 1, sm: 2, md: 3 }  // Gap responsivo
}}>
  {items.map(item => <Card key={item.id}>{item.name}</Card>)}
</Box>

// âœ… CORRETO - EspaÃ§amento responsivo
<Box sx={{ 
  p: { xs: 2, sm: 3, md: 4 },   // Padding responsivo
  m: { xs: 1, sm: 2, md: 3 }    // Margin responsivo
}}>
  ConteÃºdo
</Box>
```

### 8. **Estrutura de Pastas - SEMPRE manter organizaÃ§Ã£o**

```
erp-freitex/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/          # Componentes reutilizÃ¡veis
â”‚   â”‚   â”œâ”€â”€ pages/              # PÃ¡ginas principais
â”‚   â”‚   â”œâ”€â”€ hooks/              # Custom hooks
â”‚   â”‚   â”œâ”€â”€ services/           # ServiÃ§os de API
â”‚   â”‚   â”œâ”€â”€ utils/              # FunÃ§Ãµes utilitÃ¡rias
â”‚   â”‚   â”œâ”€â”€ types/              # Tipos TypeScript
â”‚   â”‚   â”œâ”€â”€ contexts/           # Contextos React
â”‚   â”‚   â”œâ”€â”€ styles/             # Estilos globais
â”‚   â”‚   â””â”€â”€ assets/             # Imagens e recursos
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/        # Controladores da API
â”‚   â”‚   â”œâ”€â”€ services/           # LÃ³gica de negÃ³cio
â”‚   â”‚   â”œâ”€â”€ models/             # Modelos de dados
â”‚   â”‚   â”œâ”€â”€ middleware/         # Middlewares
â”‚   â”‚   â”œâ”€â”€ routes/             # Rotas da API
â”‚   â”‚   â”œâ”€â”€ utils/              # UtilitÃ¡rios
â”‚   â”‚   â””â”€â”€ types/              # Tipos TypeScript
â”‚   â”œâ”€â”€ prisma/                 # Schema e migrations
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docker/                     # ConfiguraÃ§Ãµes Docker
â”œâ”€â”€ docs/                       # DocumentaÃ§Ã£o
â””â”€â”€ scripts/                    # Scripts utilitÃ¡rios
```

### 9. **PadrÃµes de Layout por PÃ¡gina - SEMPRE seguir estes padrÃµes**

#### **Dashboard (CompanyDashboard.tsx):**
```jsx
// âœ… CORRETO - Layout de dashboard
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { xs: '1fr', sm: 'repeat(2, 1fr)' }, 
  gap: 2 
}}>
  <Card>EstatÃ­stica 1</Card>
  <Card>EstatÃ­stica 2</Card>
</Box>
```

#### **Listagem de Produtos (CompanyProducts.tsx):**
```jsx
// âœ… CORRETO - Grid responsivo para produtos
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { xs: '1fr', md: 'repeat(5, 1fr)' }, 
  gap: 2, 
  alignItems: 'end' 
}}>
  <TextField label="Nome" />
  <TextField label="SKU" />
  <TextField label="CÃ³digo de Barras" />
  <TextField label="PreÃ§o" />
  <Button>Gerar EAN-13</Button>
</Box>
```

#### **PDV (CompanyPDV.tsx):**
```jsx
// âœ… CORRETO - Layout principal do PDV
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: '1fr 400px',  // Produtos + Carrinho
  gap: 3 
}}>
  <ProductGrid />
  <ShoppingCart />
</Box>

// âœ… CORRETO - Grid de produtos
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))', 
  gap: 2 
}}>
  {products.map(product => <ProductCard key={product.id} product={product} />)}
</Box>
```

#### **GestÃ£o de Estoque (StockManagement.tsx):**
```jsx
// âœ… CORRETO - Layout de formulÃ¡rios
<Box display="grid" gridTemplateColumns="1fr" gap={2}>
  <TextField label="Produto" />
  <TextField label="Quantidade" />
  <TextField label="Custo UnitÃ¡rio" />
</Box>
```

#### **Financeiro (CompanyFinancial.tsx):**
```jsx
// âœ… CORRETO - Cards de estatÃ­sticas
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { xs: '1fr', sm: 'repeat(2, 1fr)', md: 'repeat(4, 1fr)' }, 
  gap: 3, 
  mb: 3 
}}>
  <StatCard title="Receitas" value={stats.income} />
  <StatCard title="Despesas" value={stats.expenses} />
  <StatCard title="Saldo" value={stats.balance} />
  <StatCard title="Pendente" value={stats.pending} />
</Box>
```

### 10. **PadrÃµes de FormulÃ¡rios - SEMPRE usar estes layouts**

#### **FormulÃ¡rios Simples (1-2 campos):**
```jsx
// âœ… CORRETO - FormulÃ¡rio simples
<Box sx={{ display: 'grid', gap: 2 }}>
  <TextField label="Nome" fullWidth />
  <TextField label="Email" fullWidth />
</Box>
```

#### **FormulÃ¡rios MÃ©dios (3-5 campos):**
```jsx
// âœ… CORRETO - FormulÃ¡rio mÃ©dio
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { xs: '1fr', md: 'repeat(2, 1fr)' }, 
  gap: 2 
}}>
  <TextField label="Nome" />
  <TextField label="Email" />
  <TextField label="Telefone" />
  <TextField label="EndereÃ§o" />
  <TextField label="Cidade" sx={{ gridColumn: { xs: '1', md: '1 / -1' } }} />
</Box>
```

#### **FormulÃ¡rios Complexos (6+ campos):**
```jsx
// âœ… CORRETO - FormulÃ¡rio complexo
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { xs: '1fr', md: 'repeat(3, 1fr)' }, 
  gap: 2 
}}>
  <TextField label="Campo 1" />
  <TextField label="Campo 2" />
  <TextField label="Campo 3" />
  <TextField label="Campo 4" />
  <TextField label="Campo 5" />
  <TextField label="Campo 6" />
  <TextField label="Campo 7" sx={{ gridColumn: { xs: '1', md: '1 / -1' } }} />
</Box>
```

### 11. **PadrÃµes de Tabelas - SEMPRE usar estes layouts**

#### **Tabelas com AÃ§Ãµes:**
```jsx
// âœ… CORRETO - Tabela com aÃ§Ãµes
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: '1fr auto auto auto',  // ConteÃºdo + AÃ§Ãµes
  gap: 1 
}}>
  <Typography>Nome do Produto</Typography>
  <IconButton><EditIcon /></IconButton>
  <IconButton><DeleteIcon /></IconButton>
  <IconButton><ViewIcon /></IconButton>
</Box>
```

#### **Tabelas Responsivas:**
```jsx
// âœ… CORRETO - Tabela responsiva
<Box sx={{ 
  display: 'grid', 
  gridTemplateColumns: { 
    xs: '1fr', 
    sm: 'repeat(auto-fit, minmax(200px, 1fr))' 
  }, 
  gap: 2 
}}>
  {items.map(item => (
    <Card key={item.id}>
      <CardContent>
        <Typography variant="h6">{item.name}</Typography>
        <Typography>{item.description}</Typography>
      </CardContent>
    </Card>
  ))}
</Box>
```

### 12. **PadrÃµes de EspaÃ§amento - SEMPRE usar sistema consistente**

#### **EspaÃ§amentos ObrigatÃ³rios:**
```typescript
// Usar sempre estes valores de espaÃ§amento
const spacing = {
  xs: 0.5,   // 4px
  sm: 1,     // 8px
  md: 2,     // 16px
  lg: 3,     // 24px
  xl: 4      // 32px
};
```

#### **ImplementaÃ§Ã£o Correta:**
```jsx
// âœ… CORRETO - EspaÃ§amento consistente
<Box sx={{ 
  p: 2,        // Padding: 16px
  m: 1,        // Margin: 8px
  gap: 2,      // Gap: 16px
  mb: 3        // Margin bottom: 24px
}}>
  ConteÃºdo
</Box>

// âœ… CORRETO - EspaÃ§amento responsivo
<Box sx={{ 
  p: { xs: 1, sm: 2, md: 3 },   // Padding responsivo
  gap: { xs: 1, sm: 2, md: 3 }  // Gap responsivo
}}>
  ConteÃºdo
</Box>
```

### 13. **PadrÃµes de Tipografia - SEMPRE usar variantes corretas**

#### **Hierarquia de TÃ­tulos:**
```jsx
// âœ… CORRETO - Hierarquia de tÃ­tulos
<Typography variant="h4" component="h1">TÃ­tulo Principal</Typography>
<Typography variant="h5" component="h2">SubtÃ­tulo</Typography>
<Typography variant="h6" component="h3">SeÃ§Ã£o</Typography>
<Typography variant="body1">Texto normal</Typography>
<Typography variant="body2" color="text.secondary">Texto secundÃ¡rio</Typography>
<Typography variant="caption">Texto pequeno</Typography>
```

#### **Uso Correto:**
```jsx
// âœ… CORRETO - TÃ­tulos com cores do tema
<Typography variant="h4" sx={{ color: 'primary.main' }}>
  Dashboard
</Typography>

// âœ… CORRETO - Texto com peso correto
<Typography variant="h6" sx={{ fontWeight: 600 }}>
  EstatÃ­sticas
</Typography>
```

### 14. **PadrÃµes de Estados e Loading - SEMPRE implementar**

#### **Estados de Loading:**
```jsx
// âœ… CORRETO - Loading com CircularProgress
{loading ? (
  <Box sx={{ display: 'flex', justifyContent: 'center', p: 4 }}>
    <CircularProgress />
  </Box>
) : (
  <Content />
)}

// âœ… CORRETO - Loading em botÃµes
<Button 
  variant="contained" 
  disabled={isLoading}
  startIcon={isLoading ? <CircularProgress size={20} /> : null}
>
  {isLoading ? 'Salvando...' : 'Salvar'}
</Button>
```

#### **Estados de Erro:**
```jsx
// âœ… CORRETO - Tratamento de erro
{error ? (
  <Alert severity="error" sx={{ mb: 2 }}>
    {error}
  </Alert>
) : null}

// âœ… CORRETO - Snackbar para feedback
<Snackbar 
  open={snackbar.open} 
  autoHideDuration={6000} 
  onClose={handleCloseSnackbar}
>
  <Alert severity={snackbar.severity}>
    {snackbar.message}
  </Alert>
</Snackbar>
```

### 15. **PadrÃµes de ValidaÃ§Ã£o - SEMPRE implementar**

#### **ValidaÃ§Ã£o de FormulÃ¡rios:**
```jsx
// âœ… CORRETO - ValidaÃ§Ã£o com React Hook Form
const { register, handleSubmit, formState: { errors } } = useForm();

<TextField 
  label="Nome"
  error={!!errors.name}
  helperText={errors.name?.message}
  {...register('name', { required: 'Nome Ã© obrigatÃ³rio' })}
/>

// âœ… CORRETO - ValidaÃ§Ã£o manual
const handleSubmit = () => {
  if (!form.name || !form.salePrice) {
    setError('Preencha todos os campos obrigatÃ³rios');
    return;
  }
  // ... continuar
};
```

### 16. **PadrÃµes de Performance - SEMPRE otimizar**

#### **MemoizaÃ§Ã£o:**
```jsx
// âœ… CORRETO - Usar useCallback para funÃ§Ãµes
const handleAddToCart = useCallback((product: Product) => {
  setCart(prev => [...prev, product]);
}, []);

// âœ… CORRETO - Usar useMemo para cÃ¡lculos pesados
const totalValue = useMemo(() => {
  return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
}, [cart]);
```

#### **Lazy Loading:**
```jsx
// âœ… CORRETO - Lazy loading de componentes
const LazyComponent = lazy(() => import('./LazyComponent'));

<Suspense fallback={<CircularProgress />}>
  <LazyComponent />
</Suspense>
```

## ğŸ¨ Design System OBRIGATÃ“RIO

### Cores da Marca
```css
/* Azul Escuro - Cor Principal */
--primary-dark: #001f40;
--primary-cyan: #00c7cd;

/* Paleta Completa */
--primary-900: #001f40; /* Logo */
--primary-800: #002a56;
--primary-700: #00356c;
--primary-600: #004082;
--primary-500: #004b98;
--primary-400: #0056ae;
--primary-300: #0061c4;
--primary-200: #006cda;
--primary-100: #0077f0;

--secondary-900: #00c7cd; /* Logo */
--secondary-800: #00d4da;
--secondary-700: #00e1e7;
--secondary-600: #00eef4;
--secondary-500: #00fbff;
--secondary-400: #1affff;
--secondary-300: #33ffff;
--secondary-200: #4dffff;
--secondary-100: #66ffff;
```

### Cores de Status
```css
--success-500: #22c55e;
--warning-500: #f59e0b;
--error-500: #ef4444;
--info-500: #3b82f6;
```

### ImplementaÃ§Ã£o no Material-UI
```typescript
export const theme = createTheme({
  palette: {
    primary: {
      main: '#001f40',
      light: '#004b98',
      dark: '#001a35',
      contrastText: '#ffffff',
    },
    secondary: {
      main: '#00c7cd',
      light: '#00fbff',
      dark: '#009fa5',
      contrastText: '#ffffff',
    },
    // ... outras cores
  },
});
```

---

## ğŸ” SeguranÃ§a e Boas PrÃ¡ticas OBRIGATÃ“RIAS

### AutenticaÃ§Ã£o
- âœ… JWT com refresh tokens
- âœ… Middleware de autenticaÃ§Ã£o
- âœ… Controle de permissÃµes por mÃ³dulo
- âœ… Rate limiting

### Dados
- âœ… Isolamento por tenant
- âœ… ValidaÃ§Ã£o de entrada
- âœ… SanitizaÃ§Ã£o de dados
- âœ… Backup automÃ¡tico

### Performance
- âœ… Ãndices otimizados
- âœ… PaginaÃ§Ã£o
- âœ… Cache Redis (futuro)
- âœ… Lazy loading

---

## ğŸš€ Roadmap de Desenvolvimento (PrÃ³ximos Passos)

### Fase Atual: Melhorias e Escalabilidade (Meses 9-10)

#### Semana 33-34: NotificaÃ§Ãµes e Alertas
- [ ] Sistema de notificaÃ§Ãµes
- [ ] Alertas de estoque
- [ ] Vencimento de contas
- [ ] RelatÃ³rios automÃ¡ticos
- [ ] NotificaÃ§Ãµes push

#### Semana 35-36: IntegraÃ§Ãµes
- [ ] APIs para terceiros
- [ ] Webhooks
- [ ] IntegraÃ§Ã£o com sistemas fiscais
- [ ] Gateway de pagamento
- [ ] Correios para frete

#### Semana 37-38: Performance e OtimizaÃ§Ã£o
- [ ] OtimizaÃ§Ã£o de queries
- [ ] Cache Redis
- [ ] PaginaÃ§Ã£o
- [ ] Lazy loading
- [ ] CompressÃ£o de imagens

#### Semana 39-40: Testes e Deploy
- [ ] Testes unitÃ¡rios
- [ ] Testes de integraÃ§Ã£o
- [ ] Testes E2E
- [ ] Deploy em produÃ§Ã£o
- [ ] Monitoramento

---

## ğŸ§ª Testes e Qualidade OBRIGATÃ“RIOS

### Testes
- âœ… Unit tests (Jest)
- âœ… Integration tests (Supertest)
- âœ… E2E tests (Cypress)

### Qualidade
- âœ… ESLint + Prettier
- âœ… Husky (git hooks)
- âœ… TypeScript strict mode
- âœ… Code review obrigatÃ³rio

---

## ğŸš€ Deploy e Monitoramento

### Ambiente de Desenvolvimento
- âœ… Docker Compose local
- âœ… Hot reload
- âœ… Debug mode

### Ambiente de ProduÃ§Ã£o
- âœ… DigitalOcean/AWS
- âœ… CI/CD pipeline
- âœ… Monitoramento com logs
- âœ… Backup automÃ¡tico

---

## ğŸ“ PadrÃµes de CÃ³digo OBRIGATÃ“RIOS

### Frontend (React + TypeScript)
```typescript
// âœ… SEMPRE usar interfaces para props
interface ProductCardProps {
  product: Product;
  onAddToCart: (product: Product) => void;
  onEdit: (product: Product) => void;
}

// âœ… SEMPRE usar componentes funcionais com hooks
const ProductCard: React.FC<ProductCardProps> = ({ product, onAddToCart, onEdit }) => {
  const [isLoading, setIsLoading] = useState(false);
  
  // âœ… SEMPRE usar try-catch para operaÃ§Ãµes assÃ­ncronas
  const handleAddToCart = async () => {
    try {
      setIsLoading(true);
      await onAddToCart(product);
    } catch (error) {
      console.error('Erro ao adicionar ao carrinho:', error);
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <Card>
      {/* âœ… SEMPRE usar Material-UI components */}
      <CardContent>
        <Typography variant="h6">{product.name}</Typography>
      </CardContent>
    </Card>
  );
};
```

### Backend (Node.js + TypeScript)
```typescript
// âœ… SEMPRE usar interfaces para tipos
interface CreateProductData {
  name: string;
  description?: string;
  sku?: string;
  salePrice: number;
  costPrice?: number;
  categoryId?: string;
}

// âœ… SEMPRE usar try-catch para operaÃ§Ãµes do banco
export const createProduct = async (req: Request, res: Response) => {
  try {
    const productData: CreateProductData = req.body;
    
    // âœ… SEMPRE validar dados de entrada
    if (!productData.name || !productData.salePrice) {
      return res.status(400).json({ 
        success: false, 
        message: 'Nome e preÃ§o sÃ£o obrigatÃ³rios' 
      });
    }

    const product = await prisma.product.create({
      data: {
        ...productData,
        companyId: req.user.companyId, // âœ… SEMPRE filtrar por empresa
      }
    });

    return res.status(201).json({ success: true, data: product });
  } catch (error) {
    console.error('Erro ao criar produto:', error);
    return res.status(500).json({ 
      success: false, 
      message: 'Erro interno do servidor' 
    });
  }
};
```

---